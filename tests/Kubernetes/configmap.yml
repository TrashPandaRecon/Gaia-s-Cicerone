# Some examples of ConfigMaps
apiVersion: v1
kind: ConfigMap
metadata:
  name: multimap
data:
  # the pipe | character after the key tells Kubernetes that
  # everything following the pipe is to be treated as a single
  # literal value. You can even write entire scripts here.
  test.conf: | 
    env = mongodb
    endpoint = 0.0.0.0:30123
    char = utf8
    logging-enabled = true
    log-size = 1Gi
  given: Hatzu
  family: Rei
---
# this is a short example of how to use a CM
apiVersion: v1
kind: Pod
metadata:
  name: ubuntu-pod
spec:
  containers:
  - name: myapp
    image: ubuntu
    command: [ "/bin/sh", "-c", "echo First name $(FIRSTNAME) last name $(LASTNAME)" ]
    env:
        - name: FIRSTNAME
          valueFrom:
            configMapKeyRef:
              name: multimap
              key: given
        - name: LASTNAME
          valueFrom:
            configMapKeyRef:
              name: multimap
              key: family
    resources:
      limits:
        memory: "128Mi"
        cpu: "500m"
    ports:
      - containerPort: 3000

