{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './hooks/useD3';\n\nfunction BarChart(_ref) {\n  var data = _ref.data;\n  var ref = useD3(function (svg) {\n    var height = 500;\n    var width = 1000;\n    var margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    var x = d3.scaleBand().domain(data.map(function (d) {\n      return d.year;\n    })).rangeRound([margin.left, width - margin.right]).padding(0.1);\n    var y1 = d3.scaleLinear().domain([0, d3.max(data, function (d) {\n      return d.sales;\n    })]).rangeRound([height - margin.bottom, margin.top]);\n\n    var xAxis = function xAxis(g) {\n      return g.attr('transform', \"translate(0,\".concat(height - margin.bottom, \")\")).call(d3.axisBottom(x).tickValues(d3.ticks.apply(d3, _toConsumableArray(d3.extent(x.domain())).concat([width / 40])).filter(function (v) {\n        return x(v) !== undefined;\n      })).tickSizeOuter(0));\n    };\n\n    var y1Axis = function y1Axis(g) {\n      return g.attr('transform', \"translate(\".concat(margin.left, \",0)\")).style('color', 'steelblue').call(d3.axisLeft(y1).ticks(null, 's')).call(function (g) {\n        return g.select('.domain').remove();\n      }).call(function (g) {\n        return g.append('text').attr('x', -margin.left).attr('y', 10).attr('fill', 'currentColor').attr('text-anchor', 'start').text(data.y1);\n      });\n    };\n\n    svg.select('.x-axis').call(xAxis);\n    svg.select('.y-axis').call(y1Axis);\n    svg.select('.plot-area').attr('fill', 'steelblue').selectAll('.bar').data(data).join('rect').attr('class', 'bar').attr('x', function (d) {\n      return x(d.year);\n    }).attr('width', x.bandwidth()).attr('y', function (d) {\n      return y1(d.sales);\n    }).attr('height', function (d) {\n      return y1(0) - y1(d.sales);\n    });\n  }, [data.length]);\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    ref: ref,\n    style: {\n      height: 500,\n      width: '100%',\n      marginRight: '0px',\n      marginLeft: '0px'\n    },\n    children: [/*#__PURE__*/_jsx(\"g\", {\n      className: \"plot-area\"\n    }), /*#__PURE__*/_jsx(\"g\", {\n      className: \"x-axis\"\n    }), /*#__PURE__*/_jsx(\"g\", {\n      className: \"y-axis\"\n    })]\n  });\n}\n\nexport default BarChart;","map":null,"metadata":{},"sourceType":"module"}