{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/will/Desktop/dev/SDE/prototype/visualizer-frontend/src/components/D3Components/DrawD3BarChart.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from '../hooks/useD3';\nimport { GradientDefs, DiscreteColorLegend } from 'react-vis';\n\nfunction DrawD3BarChart(_ref) {\n  _s();\n\n  var data = _ref.data,\n      yAxisName = _ref.yAxisName;\n  var ref = useD3(function (svg) {\n    var height = 500;\n    var width = 1000;\n    var margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    var x = d3.scaleOrdinal().bandwidth(width); // .domain(data.map((d) => d.x))\n    // .rangeRound([margin.left, width - margin.right])\n    // .padding(0.1);\n\n    var y1 = d3.scaleLinear().domain([0, d3.max(data, function (d) {\n      return d.y;\n    })]).rangeRound([height - margin.bottom, margin.top]);\n\n    var xAxis = function xAxis(g) {\n      return g.attr('transform', \"translate(0,\".concat(height - margin.bottom, \")\")).call(d3.axisBottom(x).tickValues(d3.ticks.apply(d3, _toConsumableArray(d3.extent(x.domain())).concat([width / 40])).filter(function (v) {\n        return x(v) !== undefined;\n      })).tickSizeOuter(0));\n    };\n\n    var y1Axis = function y1Axis(g) {\n      return g.attr('transform', \"translate(\".concat(margin.left, \",0)\")).style('color', 'steelblue').call(d3.axisLeft(y1).ticks(null, 's')).call(function (g) {\n        return g.select('.domain').remove();\n      }).call(function (g) {\n        return g.append('text').attr('x', -margin.left).attr('y', 10).attr('fill', 'currentColor').attr('text-anchor', 'start').text(data.y1);\n      });\n    };\n\n    svg.select('.x-axis').call(xAxis);\n    svg.select('.y-axis').call(y1Axis);\n    svg.select('.plot-area').attr('fill', 'steelblue').selectAll('.bar').data(data).join('rect').attr('class', 'bar').attr('x', function (d) {\n      return x(d.x);\n    }).attr('width', x.bandwidth()).attr('y', function (d) {\n      return y1(d.y);\n    }).attr('height', function (d) {\n      return y1(0) - y1(d.y);\n    });\n  }, [data.length]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: ref,\n      style: {\n        height: 500,\n        width: '100%',\n        marginRight: '0px',\n        marginLeft: '0px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"plot-area\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"x-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      height: 0,\n      width: 0,\n      children: /*#__PURE__*/_jsxDEV(GradientDefs, {\n        children: [/*#__PURE__*/_jsxDEV(\"pattern\", {\n          id: \"stripes\",\n          width: \"4\",\n          height: \"4\",\n          patternUnits: \"userSpaceOnUse\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M 0, 0 l 5, 5\",\n            stroke: \"steelblue\",\n            strokeLinecap: \"square\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"pattern\", {\n          id: \"circles\",\n          width: \"3\",\n          height: \"3\",\n          patternUnits: \"userSpaceOnUse\",\n          children: /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"1.5\",\n            cy: \"1.5\",\n            r: \"0.8\",\n            fill: \"magenta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(DiscreteColorLegend, {\n      orientation: \"horizontal\",\n      width: 400,\n      items: [{\n        title: yAxisName,\n        color: 'steelblue',\n        strokeWidth: 100\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(DrawD3BarChart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = DrawD3BarChart;\nexport default DrawD3BarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"DrawD3BarChart\");","map":{"version":3,"sources":["/Users/will/Desktop/dev/SDE/prototype/visualizer-frontend/src/components/D3Components/DrawD3BarChart.tsx"],"names":["React","d3","useD3","GradientDefs","DiscreteColorLegend","DrawD3BarChart","data","yAxisName","ref","svg","height","width","margin","top","right","bottom","left","x","scaleOrdinal","bandwidth","y1","scaleLinear","domain","max","d","y","rangeRound","xAxis","g","attr","call","axisBottom","tickValues","ticks","extent","filter","v","undefined","tickSizeOuter","y1Axis","style","axisLeft","select","remove","append","text","selectAll","join","length","marginRight","marginLeft","title","color","strokeWidth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from '../hooks/useD3';\nimport { GradientDefs, DiscreteColorLegend } from 'react-vis';\n\nfunction DrawD3BarChart({data, yAxisName}) {\n\tlet ref = useD3(\n\t\t(svg) => {\n\t\t\tconst height = 500;\n\t\t\tconst width = 1000;\n\t\t\tconst margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n\t\t\tconst x = d3\n                .scaleOrdinal()\n                .bandwidth(width)\n\t\t\t\t// .domain(data.map((d) => d.x))\n\t\t\t\t// .rangeRound([margin.left, width - margin.right])\n\t\t\t\t// .padding(0.1);\n\n\t\t\tconst y1 = d3\n\t\t\t\t.scaleLinear()\n\t\t\t\t.domain([0, d3.max(data, (d) => d.y)])\n\t\t\t\t.rangeRound([height - margin.bottom, margin.top]);\n\n\t\t\tconst xAxis = (g) =>\n\t\t\t\tg.attr('transform', `translate(0,${height - margin.bottom})`).call(\n                    d3  \n\t\t\t\t\t\t.axisBottom(x)\n\t\t\t\t\t\t.tickValues(\n\t\t\t\t\t\t\td3\n\t\t\t\t\t\t\t\t.ticks(...d3.extent(x.domain()), width / 40)\n\t\t\t\t\t\t\t\t.filter((v) => x(v) !== undefined)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.tickSizeOuter(0)\n\t\t\t\t);\n\n\t\t\tconst y1Axis = (g) =>\n\t\t\t\tg\n\t\t\t\t\t.attr('transform', `translate(${margin.left},0)`)\n\t\t\t\t\t.style('color', 'steelblue')\n\t\t\t\t\t.call(d3.axisLeft(y1).ticks(null, 's'))\n\t\t\t\t\t.call((g) => g.select('.domain').remove())\n\t\t\t\t\t.call((g) =>\n\t\t\t\t\t\tg\n\t\t\t\t\t\t\t.append('text')\n\t\t\t\t\t\t\t.attr('x', -margin.left)\n\t\t\t\t\t\t\t.attr('y', 10)\n\t\t\t\t\t\t\t.attr('fill', 'currentColor')\n\t\t\t\t\t\t\t.attr('text-anchor', 'start')\n\t\t\t\t\t\t\t.text(data.y1)\n\t\t\t\t\t);\n\n\t\t\tsvg.select('.x-axis').call(xAxis);\n\t\t\tsvg.select('.y-axis').call(y1Axis);\n\n\t\t\tsvg\n\t\t\t\t.select('.plot-area')\n\t\t\t\t.attr('fill', 'steelblue')\n\t\t\t\t.selectAll('.bar')\n\t\t\t\t.data(data)\n\t\t\t\t.join('rect')\n\t\t\t\t.attr('class', 'bar')\n\t\t\t\t.attr('x', (d) => x(d.x))\n\t\t\t\t.attr('width', x.bandwidth())\n\t\t\t\t.attr('y', (d) => y1(d.y))\n\t\t\t\t.attr('height', (d) => y1(0) - y1(d.y));\n\t\t},\n\t\t[data.length]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<svg\n\t\t\t\tref={ref}\n\t\t\t\tstyle={{\n\t\t\t\t\theight: 500,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tmarginRight: '0px',\n\t\t\t\t\tmarginLeft: '0px',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<g className=\"plot-area\" />\n\t\t\t\t<g className=\"x-axis\" />\n\t\t\t\t<g className=\"y-axis\" />\n\t\t\t</svg>\n\t\t\t<svg height={0} width={0}>\n\t\t\t\t<GradientDefs>\n\t\t\t\t\t<pattern\n\t\t\t\t\t\tid=\"stripes\"\n\t\t\t\t\t\twidth=\"4\"\n\t\t\t\t\t\theight=\"4\"\n\t\t\t\t\t\tpatternUnits=\"userSpaceOnUse\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M 0, 0 l 5, 5\" stroke=\"steelblue\" strokeLinecap=\"square\" />\n\t\t\t\t\t</pattern>\n\t\t\t\t\t<pattern\n\t\t\t\t\t\tid=\"circles\"\n\t\t\t\t\t\twidth=\"3\"\n\t\t\t\t\t\theight=\"3\"\n\t\t\t\t\t\tpatternUnits=\"userSpaceOnUse\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<circle cx=\"1.5\" cy=\"1.5\" r=\"0.8\" fill=\"magenta\" />\n\t\t\t\t\t</pattern>\n\t\t\t\t</GradientDefs>\n\t\t\t</svg>\n\t\t\t<DiscreteColorLegend\n\t\t\t\torientation=\"horizontal\"\n\t\t\t\twidth={400}\n\t\t\t\titems={[\n\t\t\t\t\t{\n                        title: yAxisName,\n\t\t\t\t\t\tcolor: 'steelblue',\n\t\t\t\t\t\tstrokeWidth: 100,\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default DrawD3BarChart;\n"]},"metadata":{},"sourceType":"module"}