{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './hooks/useD3';\n\nfunction BarChart({\n  data\n}) {\n  const ref = useD3(svg => {\n    const height = 500;\n    const width = 1000;\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    const x = d3.scaleBand().domain(data.map(d => d.year)).rangeRound([margin.left, width - margin.right]).padding(0.1);\n    const y1 = d3.scaleLinear().domain([0, d3.max(data, d => d.sales)]).rangeRound([height - margin.bottom, margin.top]);\n\n    const xAxis = g => g.attr('transform', `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickValues(d3.ticks(...d3.extent(x.domain()), width / 40).filter(v => x(v) !== undefined)).tickSizeOuter(0));\n\n    const y1Axis = g => g.attr('transform', `translate(${margin.left},0)`).style('color', 'steelblue').call(d3.axisLeft(y1).ticks(null, 's')).call(g => g.select('.domain').remove()).call(g => g.append('text').attr('x', -margin.left).attr('y', 10).attr('fill', 'currentColor').attr('text-anchor', 'start').text(data.y1));\n\n    svg.select('.x-axis').call(xAxis);\n    svg.select('.y-axis').call(y1Axis);\n    svg.select('.plot-area').attr('fill', 'steelblue').selectAll('.bar').data(data).join('rect').attr('class', 'bar').attr('x', d => x(d.year)).attr('width', x.bandwidth()).attr('y', d => y1(d.sales)).attr('height', d => y1(0) - y1(d.sales));\n  }, [data.length]);\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    ref: ref,\n    style: {\n      height: 500,\n      width: '100%',\n      marginRight: '0px',\n      marginLeft: '0px'\n    },\n    children: [/*#__PURE__*/_jsx(\"g\", {\n      className: \"plot-area\"\n    }), /*#__PURE__*/_jsx(\"g\", {\n      className: \"x-axis\"\n    }), /*#__PURE__*/_jsx(\"g\", {\n      className: \"y-axis\"\n    })]\n  });\n}\n\nexport default BarChart;","map":null,"metadata":{},"sourceType":"module"}